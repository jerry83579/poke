{"version":3,"sources":["webpack:///./src/views/orderManager.vue?8d08","webpack:///src/views/orderManager.vue","webpack:///./src/views/orderManager.vue?940d","webpack:///./src/views/orderManager.vue","webpack:///./node_modules/core-js/modules/_object-gops.js","webpack:///./node_modules/core-js/modules/_strict-method.js","webpack:///./src/views/orderManager.vue?d486","webpack:///./node_modules/core-js/modules/es6.array.sort.js","webpack:///./node_modules/core-js/modules/_object-assign.js","webpack:///./node_modules/core-js/modules/es6.object.assign.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_l","item","key","orders","class","text-secondary","is_paid","_v","_s","_f","create_at","domProps","textContent","user","email","_e","product","i","title","qty","unit","total","attrs","pages","pagination","on","emitPages","getOrders","staticRenderFns","orderManagervue_type_script_lang_js_","components","Pagination","data","methods","page","arguments","length","undefined","vm","api","concat","$store","dispatch","$http","get","then","response","openDeleteModel","tempProduct","Object","assign","$","modal","computed","sortOrder","newOrder","sort","a","b","aIsPaid","bIsPaid","created","views_orderManagervue_type_script_lang_js_","component","componentNormalizer","options","__file","__webpack_exports__","exports","f","getOwnPropertySymbols","fails","__webpack_require__","module","method","arg","call","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_orderManager_vue_vue_type_style_index_0_id_2bedc2cc_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_lib_loader_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_orderManager_vue_vue_type_style_index_0_id_2bedc2cc_lang_scss_scoped_true___WEBPACK_IMPORTED_MODULE_0___default","n","$export","aFunction","toObject","$sort","test","P","F","comparefn","getKeys","gOPS","pIE","IObject","$assign","A","B","S","Symbol","K","split","forEach","k","keys","join","target","source","T","aLen","index","getSymbols","isEnum","j"],"mappings":"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","file":"js/chunk-f13ff028.594ed7c8.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"orderbox\"},[_c('table',{staticClass:\"table\"},[_vm._m(0),_c('tbody',_vm._l((_vm.sortOrder),function(item,key){return (_vm.orders.length)?_c('tr',{key:key,class:{'text-secondary': !item.is_paid}},[_c('td',[_vm._v(_vm._s(_vm._f(\"dateFilter\")(item.create_at)))]),_c('td',[(item.user)?_c('span',{domProps:{\"textContent\":_vm._s(item.user.email)}}):_vm._e()]),_c('td',[_c('ul',{staticClass:\"list-unstyled\"},_vm._l((item.products),function(product,i){return _c('li',{key:i},[_vm._v(\"\\n              \"+_vm._s(product.product.title)+\" 數量：\"+_vm._s(product.qty)+\"\\n              \"+_vm._s(product.product.unit)+\"\\n            \")])}))]),_c('td',{staticClass:\"text-right\"},[_vm._v(_vm._s(_vm._f(\"currency\")(item.total)))]),_c('td',[(item.is_paid)?_c('strong',{staticClass:\"text-success\"},[_vm._v(\"已付款\")]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"尚未付款\")])])]):_vm._e()}))]),_c('Pagination',{attrs:{\"pages\":_vm.pagination},on:{\"emitPages\":_vm.getOrders}})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',[_c('tr',[_c('td',[_vm._v(\"購買時間\")]),_c('td',[_vm._v(\"Email\")]),_c('td',[_vm._v(\"購買款項\")]),_c('td',[_vm._v(\"應付金額\")]),_c('td',[_vm._v(\"是否付款\")])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"orderbox\">\r\n    <table class=\"table\">\r\n      <thead>\r\n        <tr>\r\n          <td>購買時間</td>\r\n          <td>Email</td>\r\n          <td>購買款項</td>\r\n          <td>應付金額</td>\r\n          <td>是否付款</td>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n        <tr v-for=\"(item, key) in sortOrder\" :key=\"key\"\r\n          v-if=\"orders.length\"\r\n          :class=\"{'text-secondary': !item.is_paid}\">\r\n          <td>{{ item.create_at | dateFilter }}</td>\r\n          <td><span v-text=\"item.user.email\" v-if=\"item.user\"></span></td>\r\n          <td>\r\n            <ul class=\"list-unstyled\">\r\n              <li v-for=\"(product, i) in item.products\" :key=\"i\">\r\n                {{ product.product.title }} 數量：{{ product.qty }}\r\n                {{ product.product.unit }}\r\n              </li>\r\n            </ul>\r\n          </td>\r\n          <td class=\"text-right\">{{ item.total | currency }}</td>\r\n          <td>\r\n            <strong v-if=\"item.is_paid\" class=\"text-success\">已付款</strong>\r\n            <span v-else class=\"text-muted\">尚未付款</span>\r\n          </td>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n    <Pagination :pages=\"pagination\" @emitPages=\"getOrders\"></Pagination>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport Pagination from '@/components/Pagination' \r\nexport default {\r\n  components:{\r\n    Pagination,\r\n  },\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      pagination:{},\r\n    }\r\n  },\r\n  methods: {\r\n    getOrders(page = 1) {\r\n      const vm = this;\r\n      const api = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/orders?page=${page}`;\r\n      vm.$store.dispatch('updateLoading',true)\r\n      this.$http.get(api).then(function(response) {\r\n        vm.orders = response.data.orders;\r\n        vm.pagination = response.data.pagination\r\n        vm.$store.dispatch('updateLoading',false)\r\n      });\r\n    },\r\n    openDeleteModel(item){\r\n      this.tempProduct = Object.assign({}, item)\r\n      $(\"#delProductModal\").modal(\"show\");\r\n    }\r\n  },\r\n  computed: {\r\n    sortOrder() {\r\n      const vm = this;\r\n      let newOrder = [];\r\n      if (vm.orders.length) {\r\n        newOrder = vm.orders.sort((a, b) => {\r\n          const aIsPaid = a.is_paid ? 1 : 0;\r\n          const bIsPaid = b.is_paid ? 1 : 0;\r\n          return bIsPaid - aIsPaid;\r\n        });\r\n      }\r\n      return newOrder;\r\n    },\r\n  },\r\n  created() {\r\n    this.getOrders();\r\n  }\r\n};\r\n</script>\r\n\r\n\r\n<style lang=\"scss\" scoped>\r\n@import \"~bootstrap/scss/bootstrap\";\r\n@import \"~bootstrap/scss/functions\";\r\n.orderbox{\r\n  padding: 20px;\r\n  box-sizing: border-box;\r\n  max-width: 1080px;\r\n  margin: 10px auto;\r\n  border: 1px solid #eee;\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderManager.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderManager.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./orderManager.vue?vue&type=template&id=2bedc2cc&scoped=true&\"\nimport script from \"./orderManager.vue?vue&type=script&lang=js&\"\nexport * from \"./orderManager.vue?vue&type=script&lang=js&\"\nimport style0 from \"./orderManager.vue?vue&type=style&index=0&id=2bedc2cc&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2bedc2cc\",\n  null\n  \n)\n\ncomponent.options.__file = \"orderManager.vue\"\nexport default component.exports","exports.f = Object.getOwnPropertySymbols;\n","'use strict';\nvar fails = require('./_fails');\n\nmodule.exports = function (method, arg) {\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call\n    arg ? method.call(null, function () { /* empty */ }, 1) : method.call(null);\n  });\n};\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderManager.vue?vue&type=style&index=0&id=2bedc2cc&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/lib/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/lib/loader.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./orderManager.vue?vue&type=style&index=0&id=2bedc2cc&lang=scss&scoped=true&\"","'use strict';\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar toObject = require('./_to-object');\nvar fails = require('./_fails');\nvar $sort = [].sort;\nvar test = [1, 2, 3];\n\n$export($export.P + $export.F * (fails(function () {\n  // IE8-\n  test.sort(undefined);\n}) || !fails(function () {\n  // V8 bug\n  test.sort(null);\n  // Old WebKit\n}) || !require('./_strict-method')($sort)), 'Array', {\n  // 22.1.3.25 Array.prototype.sort(comparefn)\n  sort: function sort(comparefn) {\n    return comparefn === undefined\n      ? $sort.call(toObject(this))\n      : $sort.call(toObject(this), aFunction(comparefn));\n  }\n});\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n"],"sourceRoot":""}